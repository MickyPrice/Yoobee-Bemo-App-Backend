const { ensureAuthenticated } = require("../../utils/auth");
const firebase = require("../../utils/firebase");
const { uploadProfilePic, getProfilePic } = require("../../utils/profilePhotos");

const router = require("express").Router();

// Block everything except a POST & GET request
router.use("/", (req, res, next) => {
    if (req.method != "POST" && req.method != "GET") {
        res.send(`${req.method} METHOD NOT SUPPORTED`).status(405);
    } else {
        next();
    }
});

// Upload image to user
router.post("/", ensureAuthenticated, (req, res, next) => {
    if (req.files) {
        if (req.files.photo) {
            uploadProfilePic(req.user, req.files.photo)
                .then((file) => {
                    return res.status(201).json(file);
                })
                .catch((err) => {
                    console.log(err);
                    return res.status(err.status).send(err.msg);
                });
        } else {
            return res.status(400).send("Missing file");
        }
    } else {
        return res.status(400).send("Missing file");
    }
});

// Get profile photo
router.get("/:userId", (req, res, next) => {
    getProfilePic(req.params.userId)
        .then((contents) => {
            if (!contents.status) {
                const img = Buffer.from(contents.split(",")[1], 'base64');
                res.writeHead(200, {
                    'Content-Type': 'image/jpg',
                    'Content-Length': img.length
                });
                res.end(img);
            } else {

                let defaultImg = ""

                let rnd = Math.floor(Math.random() * Math.floor(3));
                if (rnd == 0) {
                    // MICHAEL
                    defaultImg = "data:image/jpeg;base64,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";
                } else if (rnd == 1) {
                    // TOM
                    defaultImg = "data:image/jpeg;base64,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";
                } else {
                    // OLIVER
                    defaultImg = "data:image/jpeg;base64,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"
                }

                const img = Buffer.from(defaultImg.split(",")[1], 'base64');
                res.writeHead(200, {
                    'Content-Type': 'image/jpg',
                    'Content-Length': img.length
                });
                res.end(img);
            }
        })
        .catch((err) => {
            if (err.msg && err.status) {
                return res.send(err.msg).status(err.status);
            }
            return res.send("Error getting profile picture").status(500);
        });
})

module.exports = router;